<!DOCTYPE html>

<html lang="en">
{% include 'head.twig' %}
<body>
    {% include 'header.twig' %}

    <ul class="menu">
      <li><a href="{{ requestRoot }}connections">Connections</a></li>
      <li><a href="{{ requestRoot }}users">Users</a></li>
      <li class="active"><a href="{{ requestRoot }}info">Info</a></li>
      <li><a href="{{ requestRoot }}stats">Stats</a></li>
      <li><a href="{{ requestRoot }}log">Log</a></li>
    </ul>

    {% for pool in instanceConfig.vpnPools %}
        <h2>{{ pool.displayName }}</h2>

        <dl>
            <dt>IPv4</dt>            
            <dd><code>{{ pool.range }}</code></dd>

            <dt>IPv6</dt>            
            <dd><code>{{ pool.range6 }}</code></dd>

            <dt>Hostname</dt>        
            <dd><code>{{ pool.hostName }}</code></dd>

            {% if pool.listen != "::" %}
                <dt>Listening On</dt>
                <dd><code>{{ pool.listen }}</code></dd>
            {% endif %}

            <dt>Default Gateway</dt>
            <dd>
                {% if pool.defaultGateway %}
                    <span class="success">Yes</span>
                {% else %}
                    <span class="error">No</span>
                {% endif %}
            </dd>

            <dt>NAT</dt>
            <dd>
                {% if pool.useNat %}
                    <span class="success">Yes</span>
                {% else %}
                <span class="error">No</span>
                {% endif %}
            </dd>

            {% if not pool.defaultGateway %}
                <dt>Route(s)</dt>
                <dd>
                    {% if pool.routes is empty %}
                        <em>None</em>
                    {% else %}
                        <ul class="simple">
                            {% for route in pool.routes %}
                                <li><code>{{ route }}</code></li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                </dd>
            {% endif %}

            {% if pool.defaultGateway and pool.dns is not empty %}
                <dt>DNS</dt>
                <dd>
                    {% if pool.dns is empty %}
                        <em>None</em>
                    {% else %}
                        <ul class="simple">
                        {% for d in pool.dns %}
                            <li><code>{{ d }}</code></li>
                        {% endfor %}
                        </ul>
                    {% endif %}
                </dd>
            {% endif %}

            <dt>Block Outgoing SMB traffic</dt>
            <dd>
                {% if pool.blockSmb %}
                    <span class="success">Yes</span>
                {% else %}
                    <span class="error">No</span>
                {% endif %}
            </dd>

<!--            <dt>Forward IPv6 traffic</dt>-->
<!--            <dd>-->
<!--                {% if pool.forward6 %}-->
<!--                    <span class="success">Yes</span>-->
<!--                {% else %}-->
<!--                    <span class="error">No</span>-->
<!--                {% endif %}-->
<!--            </dd>-->

            <dt>Client-to-client</dt>
            <dd>
                {% if pool.clientToClient %}
                    <span class="success">Yes</span>
                {% else %}
                    <span class="error">No</span>
                {% endif %}
            </dd>

            <dt>Two-factor Authentication</dt>
            <dd>
                {% if pool.twoFactor %}
                    <span class="success">Yes</span>
                {% else %}
                    <span class="error">No</span>
                {% endif %}
            </dd>

            <dt>Access Control</dt>
            <dd>
                {% if pool.enableAcl %}
                    <span class="success">Yes</span>
                {% else %}
                    <span class="error">No</span>
                {% endif %}
            </dd>

            {% if pool.enableAcl %}
            <dt>Access Control Groups</dt>
            <dd>
                <ul class="simple">
                {% for group in pool.aclGroupList %}
                    <li><code>{{ group }}</code></li>
                {% endfor %}
                </ul>
            </dd>
            {% endif %}

            <dt>Detailed Logging</dt>
            <dd>
                {% if pool.enableLog %}
                    <span class="success">Yes</span>
                {% else %}
                    <span class="error">No</span>
                {% endif %}
            </dd>
        </dl>
    {% endfor %}

    {% include 'footer.twig' %}
</body>
</html>
